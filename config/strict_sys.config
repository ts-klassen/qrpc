% Do NOT edit this file directly.
% Edit /opt/qrpc/etc/qrpc/qrpc.config instead.
[{qrpc, [
    % This is strict mode for prod.
    {is_strict, true}
  , {server_name, <<"qrpc-prod">>}

  , {listen_ip, {127,0,0,1}}
  , {listen_port, 9080}

  , {rpc_uri, <<"/qrpc">>}
  , {static_uri, <<"/qrpc/:subsystem/static/[...]">>}
  , {static_uri_subsystem, []}

  , {allowed_rpc_mfa, #{
    }}

  % jwt secret. Generate it like: `crypto:strong_rand_bytes(256)`
  % {jwt_hs256_secret, binary()}

  % {tier, #{
  %     atom() => #{
  %         secondly => non_neg_integer()
  %       , minutely => non_neg_integer()
  %       , hourly => non_neg_integer()
  %       , daily => non_neg_integer()
  %     }
  % }}

  % Must start with admin and end with public.
  , {roles, [admin, public]}

  % {rabbitmq, #{
  %     host => <<"localhost">>
  %   , port => 5672
  %   , username => <<"guest">>
  %   , password => <<"guest">>
  %   , vhost => <<"/">>
  % }}

  , {clog_dir, "/opt/qrpc/var/log/qrpc"}
  , {dlog_config, #{
        qrpc_error => [
            {type, wrap}
          % {size, {MaxNoBytes, MaxNoFiles}}
          , {size, {1073741824, 10}}
        ]
    }}
  , {dlog_dir, "/opt/qrpc/var/log/dlog"}
  , {kvs_dets_path, "/opt/qrpc/var/dets/qrpc_kvs"}

  % {subsystem, #{
  %     qrpc => #{} % Basicly, qrpc should use top level config.
  %   , q_vvx => #{
  %     }
  % }}
]}].
