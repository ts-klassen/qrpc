---
# Example shared vars for all qrpc hosts.
# Copy this file to ansible/env/real/group_vars/all.yml and
# update values to match your release/versioning strategy.

# Version and source of the qrpc release.
qrpc_version: "0.1.0"
qrpc_arch: "linux-x86_64-6.8.0-ubuntu22.04"

# Use the locally built tarball on the control node by default.
# The qrpc_repo_root variable (defined in the role defaults) points
# to the root of this git checkout regardless of where your playbook
# lives under ansible/.
qrpc_source_type: "local"
qrpc_source_path: "{{ qrpc_repo_root }}/_release_packages/qrpc-{{ qrpc_version }}-{{ qrpc_arch }}.tar.gz"

# Host firewall management (UFW). The bundled role enforces that SSH (port 22)
# stays reachable; removing the allow rule below will make the play fail fast.
# Add additional allow entries for any service ports you expose on the host.
ufw_rules:
  - rule: "allow"
    direction: "in"
    proto: "tcp"
    port: 22
    comment: "Allow SSH"
  - rule: "allow"
    direction: "in"
    proto: "tcp"
    port: 80
    comment: "Expose qrpc HTTP"
  - rule: "allow"
    direction: "in"
    proto: "tcp"
    port: 443
    comment: "Expose qrpc HTTPS"

# Cloudflare DNS management (optional). Define `cloudflare_api_token`
# directly in this file once encrypted with Ansible Vault. The list below
# illustrates the expected record structure.
cloudflare_api_token: "REPLACE_WITH_REAL_TOKEN"
cloudflare_dns_records:
  - zone: "example.net"
    type: "A"
    name: "app01"
    content: "203.0.113.10"
    proxied: false
    ttl: 300


# Cloudflare Tunnel management (optional). Define the control-plane API token
# here (vault it!) and list per-host tunnels under host_vars/<hostname>.yml.
# See host_vars/qrpc-app01.example.com.yml for a worked example.
cloudflare_tunnel_account_id: "11111111aaaa2222bbbb3333cccc4444"

# qrpc backups (required). Use Ansible Vault for any real secrets.
qrpc_backup_s3_bucket: "qrpc-backups-example"
qrpc_backup_s3_prefix: "env/example/{{ inventory_hostname }}"
qrpc_backup_s3_endpoint: "https://s3-compatible.example.net"
qrpc_backup_aws_access_key_id: "REPLACE_WITH_VAULTED_VALUE"
qrpc_backup_aws_secret_access_key: "REPLACE_WITH_VAULTED_VALUE"
qrpc_backup_aws_region: "us-east-1"
qrpc_backup_gpg_passphrase: "REPLACE_WITH_REAL_SECRET"
qrpc_backup_timer_oncalendar: "daily"
# qrpc_backup_disable_s3_if_match: true  # uncomment if your S3 endpoint rejects If-Match headers

# WebArena Indigo API settings (used by ansible/playbooks/webarena_indigo.yml).
# Define these in your private env and vault secrets as needed.
# webarena_indigo_client_id: "REPLACE_WITH_INDIGO_CLIENT_ID"
# webarena_indigo_client_secret: "REPLACE_WITH_INDIGO_CLIENT_SECRET"
# webarena_indigo_ssh_key_id: "12345"
# webarena_indigo_region_id: "1"
# webarena_indigo_os_id: "1"
# webarena_indigo_plan_id: "1"
# webarena_indigo_instance_name: "qrpc-indigo-demo"
